---
layout: default
title: OpTiMSoC Reference Manual
sectiontitle: Reference Manual
---
    <div class="col-md-3">
<div class="optimsoc-doc-mainnav"><ul class="nav">
<li><a href="" title="Chapter&nbsp;1 Toolchain &#8227; OpTiMSoC Reference Manual">Toolchain</a></li>
<li><a href="chap_systemsoftware.html" title="Chapter&nbsp;2 System Software &#8227; OpTiMSoC Reference Manual">System Software</a></li>
<li><a href="chap_system-configuration.html" title="Chapter&nbsp;3 System Configuration &#8227; OpTiMSoC Reference Manual">System Configuration</a></li>
<li><a href="Ch4.html" title="Chapter&nbsp;4 Trace Debugging &#8227; OpTiMSoC Reference Manual">Trace Debugging</a></li>
</ul></div>
<div id="optimsoc-doc-subnav-nav" class="optimsoc-doc-subnav hidden-print" data-spy="affix" data-offset-top="200" role="complementary"><ul class="nav">
<li class=""><a href="#S0.SS1" title="1.0.1 Build Sourceware &ndash; Stage 1 &#8227; Chapter&nbsp;1 Toolchain &#8227; OpTiMSoC Reference Manual">Build Sourceware &ndash; Stage 1</a></li>
<li class=""><a href="#S0.SS2" title="1.0.2 Build GCC &ndash; Stage 1 &#8227; Chapter&nbsp;1 Toolchain &#8227; OpTiMSoC Reference Manual">Build GCC &ndash; Stage 1</a></li>
<li class=""><a href="#S0.SS3" title="1.0.3 Build Sourceware &ndash; Stage 2 &#8227; Chapter&nbsp;1 Toolchain &#8227; OpTiMSoC Reference Manual">Build Sourceware &ndash; Stage 2</a></li>
<li class=""><a href="#S0.SS4" title="1.0.4 Build GCC &ndash; Stage 2 &#8227; Chapter&nbsp;1 Toolchain &#8227; OpTiMSoC Reference Manual">Build GCC &ndash; Stage 2</a></li>
</ul></div>
</div><div class="col-md-9 optimsoc-doc-body">
<div class="ltx_page_main">
<div class="ltx_page_content">
<div class="ltx_chapter">
<h1 class="ltx_title ltx_title_chapter">
<span class="ltx_tag ltx_tag_chapter">Chapter&nbsp;1 </span>Toolchain</h1>
<div class="ltx_date ltx_role_creation"></div>

<div id="p1" class="ltx_para">
<p class="ltx_p">The actual build contains 4 stages as the base binutils are needed to
build gcc and gcc is needed to build the newlib then. Finally the
complete gcc is built.</p>
</div>
<div id="S0.SS1" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.0.1 </span>Build Sourceware &ndash; Stage 1</h2>

<div id="S0.SS1.p1" class="ltx_para">
<pre class="ltx_verbatim ltx_font_typewriter">
$&gt; mkdir bld-sourceware-stage1
$&gt; cd bld-sourceware-stage1
$&gt; ../optimsoc-sourceware/configure --target=or1k-elf --prefix=$PREFIX \
    --enable-shared --disable-itcl --disable-tk --disable-tcl \
    --disable-winsup --disable-gdbtk --disable-libgui --disable-rda \
    --disable-sid --disable-sim --disable-gdb --with-sysroot \
    --disable-newlib --disable-libgloss
$&gt; make
$&gt; make install
$&gt; cd ..
</pre>
</div>
<div id="S0.SS1.p2" class="ltx_para">
<p class="ltx_p">You may run <code class="ltx_verbatim ltx_font_typewriter">make -j8</code> to run 8 parallel build jobs or similar to
speed up the build here and in the following.</p>
</div>
</div>
<div id="S0.SS2" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.0.2 </span>Build GCC &ndash; Stage 1</h2>

<div id="S0.SS2.p1" class="ltx_para">
<pre class="ltx_verbatim ltx_font_typewriter">
$&gt; mkdir bld-gcc-stage1
$&gt; cd bld-gcc-stage1
$&gt; ../optimsoc-gcc/configure --target=or1k-elf --prefix=$PREFIX \
    --enable-languages=c --disable-shared --disable-libssp
$&gt; make
$&gt; make install
$&gt; cd ..
</pre>
</div>
</div>
<div id="S0.SS3" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.0.3 </span>Build Sourceware &ndash; Stage 2</h2>

<div id="S0.SS3.p1" class="ltx_para">
<pre class="ltx_verbatim ltx_font_typewriter">
$&gt; mkdir bld-sourceware-stage2
$&gt; cd bld-sourceware-stage2
$&gt; ../optimsoc-sourceware/configure --target=or1k-elf --prefix=$PREFIX \
    --enable-shared --disable-itcl --disable-tk --disable-tcl \
    --disable-winsup --disable-gdbtk --disable-libgui --disable-rda \
    --disable-sid --enable-sim --disable-or1ksim --enable-gdb \
    --with-sysroot --enable-newlib --enable-libgloss
$&gt; make
$&gt; make install
$&gt; cd ..
</pre>
</div>
</div>
<div id="S0.SS4" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.0.4 </span>Build GCC &ndash; Stage 2</h2>

<div id="S0.SS4.p1" class="ltx_para">
<pre class="ltx_verbatim ltx_font_typewriter">
$&gt; mkdir bld-gcc-stage2
$&gt; cd bld-gcc-stage2
$&gt; ../optimsoc-gcc/configure --target=or1k-elf --prefix=$PREFIX \
    --enable-languages=c,c++ --disable-shared --disable-libssp \
    --with-newlib
$&gt; make
$&gt; make install
$&gt; cd ..
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
